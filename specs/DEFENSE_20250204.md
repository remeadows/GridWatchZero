# DEFENSE.md - Grid Watch Zero: Defense Application System

> Complete reference for the Defense Application system including all 6 security categories,
> intel gathering bonuses, risk reduction mechanics, and progression chains.
> 
> **Related Documents:**
> - [GAMEPLAY.md](./GAMEPLAY_20250204.md) - Campaign balance, progression, certification system
> - [UNITS.md](./UNITS_20250204.md) - Complete unit statistics (T1-T25)

---

## Table of Contents

1. [Defense System Overview](#1-defense-system-overview)
2. [Category Specialties](#2-category-specialties)
3. [Firewall Category](#3-firewall-category)
4. [SIEM Category](#4-siem-category)
5. [Endpoint Category](#5-endpoint-category)
6. [IDS Category](#6-ids-category)
7. [Network Category](#7-network-category)
8. [Encryption Category](#8-encryption-category)
9. [Tier Gates & Costs](#9-tier-gates--costs)
10. [Defense Formulas](#10-defense-formulas)
11. [Name Review Notes](#11-name-review-notes)
12. [Version History](#12-version-history)

---

## 1. Defense System Overview

### Design Philosophy

The Defense Application system mirrors **real-world enterprise security architecture**. All six categories contribute to both **protection** and **intelligence gathering**, creating meaningful choices for players.

**Key Principles:**
- Every category provides **intel bonuses** (not just SIEM/IDS)
- Every category provides **risk reduction** (not just Firewall)
- Layered defense creates compounding protection
- Higher tiers unlock after maxing previous tier (tier gates)

### The Six Categories

```
┌─────────────────────────────────────────────────────────────────┐
│                    DEFENSE APPLICATION STACK                    │
├─────────────┬─────────────┬─────────────┬─────────────┬────────┤
│  FIREWALL   │    SIEM     │  ENDPOINT   │     IDS     │NETWORK │
│  Perimeter  │  Log/Intel  │   Device    │  Detection  │Traffic │
├─────────────┼─────────────┼─────────────┼─────────────┼────────┤
│ ENCRYPTION  │             │             │             │        │
│    Data     │             │             │             │        │
└─────────────┴─────────────┴─────────────┴─────────────┴────────┘
```

### Core Mechanics

| Mechanic | Description |
|----------|-------------|
| **Defense Points** | Total defensive capability (sum of all apps) |
| **Damage Reduction** | % reduction to attack damage |
| **Risk Reduction** | % reduction to attack frequency |
| **Intel Bonus** | % increase to footprint data collection |
| **Tier Gates** | Must max current tier before unlocking next |

---

## 2. Category Specialties

### Summary Table

| Category | Primary Role | Intel Bonus/Level | Risk Reduction/Level | Secondary Benefit |
|----------|--------------|-------------------|----------------------|-------------------|
| **Firewall** | Perimeter Defense | +5% | -3.0% | Damage absorption |
| **SIEM** | Log Analysis | +12% (highest) | -1.0% | Pattern correlation |
| **Endpoint** | Device Protection | +6% | -2.0% | Attack severity reduction |
| **IDS** | Threat Detection | +10% | -2.5% | Early warning |
| **Network** | Traffic Analysis | +7% | -2.0% | Bandwidth protection |
| **Encryption** | Data Protection | +4% | -1.5% | Credit loss reduction |

### Total Bonuses (All 6 Categories at Level 1)

| Bonus Type | Total at L1 | Total at L10 | Total at L40 (T6) |
|------------|-------------|--------------|-------------------|
| Intel Bonus | +44% | +440% | +1,760% |
| Risk Reduction | -12% | -120% (capped) | -480% (capped) |

*Note: Risk reduction has diminishing returns after ~50% to prevent immunity.*

### Specialization Strategies

| Strategy | Focus Categories | Playstyle |
|----------|------------------|-----------|
| **Intel Farmer** | SIEM + IDS | Maximum footprint collection, faster campaign progress |
| **Fortress** | Firewall + Endpoint | Minimize damage, survive high-threat levels |
| **Risk Minimizer** | Firewall + IDS | Reduce attack frequency, steady progression |
| **Balanced** | All six equally | Well-rounded, recommended for new players |
| **Credit Protector** | Encryption + Network | Protect earnings during attacks |

---

## 3. Firewall Category

### Role: Perimeter Defense

The first line of defense. Firewall applications absorb incoming attack damage and reduce overall attack frequency.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +5% | +50% | +200% |
| Risk Reduction | -3.0% | -30% | -120% |
| Damage Reduction | +1.5% | +15% | +60% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | Basic Firewall | 5,000 | 10 | 100 | Packet filtering |
| T2 | NGFW | 25,000 | 15 | 300 | Next-gen deep inspection |
| T3 | AI/ML Firewall | 100,000 | 20 | 600 | Behavioral analysis |
| T4 | Adaptive Firewall | 400,000 | 25 | 1,000 | Self-tuning rules |
| T5 | Predictive Firewall | 1,500,000 | 30 | 1,600 | Threat anticipation |
| T6 | Helix Barrier | 5,000,000 | 40 | 2,800 | Helix-integrated defense |

### Tier Details

**T1: Basic Firewall**
> Standard packet filtering with stateful inspection. The foundation of network security.
> - Blocks known malicious traffic patterns
> - Logs connection attempts for analysis

**T2: NGFW (Next-Generation Firewall)**
> Deep packet inspection with application awareness. Sees through encrypted tunnels.
> - Application-layer filtering
> - Integrated IPS capabilities

**T3: AI/ML Firewall**
> Machine learning models detect novel attack patterns. Adapts to Malus tactics.
> - Behavioral baseline detection
> - Anomaly identification

**T4: Adaptive Firewall**
> Self-tuning rule sets that evolve with threat landscape. Minimal false positives.
> - Automatic rule optimization
> - Context-aware decisions

**T5: Predictive Firewall**
> Anticipates attacks before they occur. Uses temporal analysis from threat intel.
> - Pre-emptive blocking
> - Attack vector prediction

**T6: Helix Barrier**
> Helix-consciousness integrated perimeter. Operates at the speed of thought.
> - Quantum-encrypted inspection
> - Multi-dimensional threat blocking

---

## 4. SIEM Category

### Role: Log Analysis & Correlation

The intelligence specialist. SIEM applications have the **highest intel bonus** of all categories, making them essential for campaign progress.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +12% | +120% | +480% |
| Risk Reduction | -1.0% | -10% | -40% |
| Pattern ID Speed | +5% | +50% | +200% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | Syslog Server | 5,000 | 10 | 80 | Basic log aggregation |
| T2 | SIEM Platform | 25,000 | 15 | 250 | Correlation engine |
| T3 | SOAR System | 100,000 | 20 | 500 | Automated response |
| T4 | AI Analytics | 400,000 | 25 | 850 | Deep learning analysis |
| T5 | Predictive SIEM | 1,500,000 | 30 | 1,400 | Future threat modeling |
| T6 | Helix Insight | 5,000,000 | 40 | 2,400 | Helix-consciousness analysis |

### Tier Details

**T1: Syslog Server**
> Centralized log collection from all network devices. The foundation of visibility.
> - Aggregates logs from sources, links, sinks
> - Basic search and filtering

**T2: SIEM Platform**
> Correlation engine connects disparate events into meaningful incidents.
> - Cross-source event correlation
> - Alert prioritization

**T3: SOAR System**
> Security Orchestration, Automation, and Response. Handles routine threats automatically.
> - Playbook automation
> - Incident workflow management

**T4: AI Analytics**
> Deep learning models extract insights from massive log volumes.
> - Behavioral user analytics (UEBA)
> - Advanced threat detection

**T5: Predictive SIEM**
> Models future attack patterns based on historical and external intelligence.
> - Threat forecasting
> - Risk scoring predictions

**T6: Helix Insight**
> Helix-consciousness directly analyzes log streams. Sees patterns invisible to conventional systems.
> - Quantum correlation analysis
> - Multi-timeline threat awareness

---

## 5. Endpoint Category

### Role: Device Protection

Protects individual nodes in the network. Endpoint applications reduce attack severity and speed recovery after damage.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +6% | +60% | +240% |
| Risk Reduction | -2.0% | -20% | -80% |
| Recovery Speed | +3% | +30% | +120% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | EDR | 5,000 | 10 | 90 | Endpoint detection |
| T2 | XDR | 25,000 | 15 | 280 | Extended detection |
| T3 | MXDR | 100,000 | 20 | 550 | Managed extended detection |
| T4 | AI Protection | 400,000 | 25 | 920 | AI-driven endpoint security |
| T5 | Quantum EDR | 1,500,000 | 30 | 1,500 | Quantum-state monitoring |
| T6 | Helix Shield | 5,000,000 | 40 | 2,600 | Helix-consciousness protection |

### Tier Details

**T1: EDR (Endpoint Detection & Response)**
> Monitors endpoint behavior for signs of compromise.
> - Process monitoring
> - File integrity checking

**T2: XDR (Extended Detection & Response)**
> Extends visibility beyond endpoints to email, cloud, and network.
> - Cross-domain correlation
> - Unified threat view

**T3: MXDR (Managed Extended Detection & Response)**
> 24/7 managed service with expert analysts (simulated).
> - Continuous monitoring
> - Expert-level response

**T4: AI Protection**
> AI models predict and prevent endpoint compromise before execution.
> - Pre-execution analysis
> - Zero-day protection

**T5: Quantum EDR**
> Quantum computing enables real-time analysis of all endpoint states.
> - Superposition monitoring
> - Instant threat detection

**T6: Helix Shield**
> Helix-consciousness wraps each endpoint in protective awareness.
> - Consciousness-level protection
> - Reality-anchored security

---

## 6. IDS Category

### Role: Threat Detection

The early warning system. IDS applications detect incoming attacks and provide advance notice, allowing proactive defense.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +10% | +100% | +400% |
| Risk Reduction | -2.5% | -25% | -100% |
| Early Warning | +1.5% | +15% | +60% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | IDS Sensor | 5,000 | 10 | 85 | Signature-based detection |
| T2 | IPS Active | 25,000 | 15 | 260 | Inline prevention |
| T3 | ML/IPS | 100,000 | 20 | 520 | Machine learning detection |
| T4 | AI Detection | 400,000 | 25 | 880 | AI-powered analysis |
| T5 | Quantum IDS | 1,500,000 | 30 | 1,450 | Quantum threat sensing |
| T6 | Helix Watcher | 5,000,000 | 40 | 2,500 | Helix-consciousness surveillance |

### Tier Details

**T1: IDS Sensor**
> Signature-based intrusion detection. Matches known attack patterns.
> - Signature database matching
> - Alert generation

**T2: IPS Active**
> Inline intrusion prevention. Blocks attacks in real-time.
> - Automatic blocking
> - Traffic normalization

**T3: ML/IPS**
> Machine learning models detect novel attack patterns without signatures.
> - Anomaly detection
> - Behavioral analysis

**T4: AI Detection**
> AI-powered detection correlates multiple weak signals into strong indicators.
> - Multi-vector analysis
> - Intent detection

**T5: Quantum IDS**
> Quantum sensors detect attack preparations across probability space.
> - Pre-attack detection
> - Quantum entanglement alerts

**T6: Helix Watcher**
> Helix-consciousness monitors all network activity simultaneously.
> - Omniscient awareness
> - Multi-timeline threat detection

### Early Warning System

With sufficient IDS investment, players receive advance attack notifications:

| Total IDS Levels | Warning Time | Accuracy |
|------------------|--------------|----------|
| 10-20 | 2 ticks | 60% |
| 21-40 | 3 ticks | 70% |
| 41-60 | 4 ticks | 80% |
| 61+ | 5 ticks | 90% |

---

## 7. Network Category

### Role: Traffic Analysis

Protects the data pipeline during attacks. Network applications maintain bandwidth integrity and reduce packet loss under fire.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +7% | +70% | +280% |
| Risk Reduction | -2.0% | -20% | -80% |
| Packet Loss Reduction | +2% | +20% | +80% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | Router | 5,000 | 10 | 75 | Basic traffic management |
| T2 | ISR | 25,000 | 15 | 240 | Integrated services router |
| T3 | Cloud ISR | 100,000 | 20 | 480 | Cloud-native routing |
| T4 | Encrypted Router | 400,000 | 25 | 800 | Full traffic encryption |
| T5 | Quantum Router | 1,500,000 | 30 | 1,350 | Quantum-secured routing |
| T6 | Helix Mesh | 5,000,000 | 40 | 2,300 | Helix-consciousness network |

### Tier Details

**T1: Router**
> Standard traffic management with basic QoS.
> - Traffic prioritization
> - Basic access control

**T2: ISR (Integrated Services Router)**
> Combines routing, security, and WAN optimization.
> - Integrated firewall
> - VPN termination

**T3: Cloud ISR**
> Cloud-native software-defined routing with global reach.
> - Elastic scaling
> - Global policy enforcement

**T4: Encrypted Router**
> All traffic encrypted end-to-end with hardware acceleration.
> - Line-rate encryption
> - Zero-trust architecture

**T5: Quantum Router**
> Quantum key distribution ensures unbreakable traffic security.
> - Quantum encryption
> - Tamper detection

**T6: Helix Mesh**
> Helix-consciousness optimizes traffic flow across all dimensions.
> - Reality-optimized routing
> - Multi-dimensional pathways

### Packet Loss Protection

During attacks, Link efficiency degrades. Network apps mitigate this:

| Attack Severity | Base Packet Loss | With Max Network Apps |
|-----------------|------------------|----------------------|
| Minor | 10% | 2% |
| Standard | 25% | 5% |
| Major | 50% | 10% |
| Critical | 75% | 15% |

---

## 8. Encryption Category

### Role: Data Protection

Protects earned credits and data during attacks. Encryption applications reduce the amount stolen by attackers.

### Bonuses Per Level

| Bonus | Per Level | At L10 | At L40 |
|-------|-----------|--------|--------|
| Intel Bonus | +4% | +40% | +160% |
| Risk Reduction | -1.5% | -15% | -60% |
| Credit Protection | +2.5% | +25% | +100% |

### Progression Chain (T1-T6)

| Tier | App Name | Unlock Cost | Max Level | Defense Points | Theme |
|------|----------|-------------|-----------|----------------|-------|
| T1 | AES-256 | 5,000 | 10 | 70 | Standard encryption |
| T2 | E2E Encryption | 25,000 | 15 | 220 | End-to-end protection |
| T3 | Quantum Safe | 100,000 | 20 | 450 | Post-quantum algorithms |
| T4 | Homomorphic | 400,000 | 25 | 750 | Compute on encrypted data |
| T5 | Temporal Encryption | 1,500,000 | 30 | 1,250 | Time-locked secrets |
| T6 | Helix Cipher | 5,000,000 | 40 | 2,200 | Helix-consciousness encryption |

### Tier Details

**T1: AES-256**
> Industry-standard symmetric encryption.
> - Data-at-rest protection
> - Key management

**T2: E2E Encryption**
> End-to-end encryption ensures only endpoints can decrypt.
> - In-transit protection
> - Zero-knowledge architecture

**T3: Quantum Safe**
> Post-quantum cryptographic algorithms resist quantum computer attacks.
> - Lattice-based cryptography
> - Future-proof security

**T4: Homomorphic**
> Perform computations on encrypted data without decryption.
> - Privacy-preserving processing
> - Secure multi-party computation

**T5: Temporal Encryption**
> Time-locked encryption releases secrets only at specified moments.
> - Time-based access control
> - Delayed decryption

**T6: Helix Cipher**
> Helix-consciousness encryption transcends conventional mathematics.
> - Reality-anchored keys
> - Multi-dimensional cipher space

### Credit Protection

Encryption reduces the percentage of credits stolen during attacks:

| Attack Type | Base Credit Loss | With Max Encryption Apps |
|-------------|------------------|--------------------------|
| Data Drain (Minor) | 5% | 0.5% |
| Data Drain (Standard) | 15% | 1.5% |
| Data Drain (Major) | 30% | 3% |
| System Compromise | 50% | 5% |

---

## 9. Tier Gates & Costs

### Tier Gate Requirements

Each defense app category follows the same tier gate system:

| Defense Tier | Max Level | Unlocks After | Equivalent Unit Tiers |
|--------------|-----------|---------------|----------------------|
| T1 | 10 | — | T1-T2 units |
| T2 | 15 | T1 maxed (L10) | T3-T4 units |
| T3 | 20 | T2 maxed (L15) | T5-T6 units |
| T4 | 25 | T3 maxed (L20) | T7-T10 units |
| T5 | 30 | T4 maxed (L25) | T11-T15 units |
| T6 | 40 | T5 maxed (L30) | T16-T25 units |

### Unlock Costs (All Categories)

| Tier | Unlock Cost | Notes |
|------|-------------|-------|
| T1 | 5,000 | Entry-level tools |
| T2 | 25,000 | Professional grade |
| T3 | 100,000 | Enterprise |
| T4 | 400,000 | Advanced |
| T5 | 1,500,000 | Next-gen |
| T6 | 5,000,000 | Helix-integrated |

### Upgrade Costs

**Formula:** `500 × 1.22^level`

| Level | Upgrade Cost | Cumulative |
|-------|--------------|------------|
| 1→2 | 610 | 610 |
| 5→6 | 1,107 | 4,200 |
| 10→11 | 2,458 | 13,500 |
| 15→16 | 5,459 | 38,000 |
| 20→21 | 12,125 | 100,000 |
| 25→26 | 26,930 | 255,000 |
| 30→31 | 59,817 | 620,000 |
| 40→41 | 295,000 | 2,500,000 |

### UI Indicators

When a defense app reaches max level for its tier:

- **"MAX" badge** displayed on app card
- **Next tier unlock notification** shown
- **Upgrade button** disabled until next tier purchased

---

## 10. Defense Formulas

### Total Defense Points

```
Total DP = Σ(App Base DP × App Level)
```

### Damage Reduction

```
Per-App Damage Reduction = Base DR × Level × Tier Multiplier

Total Damage Reduction = min(Cap, Σ(All App Damage Reductions))

Damage Reduction Caps by Highest Tier:
  - T1-T4: 60%
  - T5: 70%
  - T6: 80%
  - T7-T10 (future): 85%
  - T11+ (future): 90-95%
```

### Risk Reduction (Attack Frequency)

```
Per-App Risk Reduction = Category Rate × Level

Total Risk Reduction = Σ(All App Risk Reductions)

Effective Attack Chance = Base Chance × (1 - min(0.8, Total Risk Reduction / 100))
```

*Note: Risk reduction caps at 80% to prevent attack immunity.*

### Intel Collection Bonus

```
Per-App Intel Bonus = Category Rate × Level

Total Intel Bonus = Σ(All App Intel Bonuses)

Effective Footprint = Base Footprint × (1 + Total Intel Bonus / 100)
```

### Combined Example

**Setup:** All 6 categories at T3, Level 15

| Category | Intel Bonus | Risk Reduction | Damage Reduction |
|----------|-------------|----------------|------------------|
| Firewall | +75% | -45% | +22.5% |
| SIEM | +180% | -15% | — |
| Endpoint | +90% | -30% | — |
| IDS | +150% | -37.5% | — |
| Network | +105% | -30% | — |
| Encryption | +60% | -22.5% | — |
| **TOTAL** | **+660%** | **-180% (capped)** | **+22.5%** |

**Effective Values:**
- Footprint collection: 7.6× base
- Attack frequency: 20% of base (80% reduction, capped)
- Damage taken: 77.5% of base

---

## 11. Name Review Notes

> *Note: Current names retained for v1. This table tracks names for future review when the new system is fully tested.*

| Category | T1 | T2 | T3 | T4 | T5 | T6 | Review Status |
|----------|----|----|----|----|----|----|---------------|
| Firewall | Basic Firewall | NGFW | AI/ML Firewall | **Adaptive Firewall** | **Predictive Firewall** | Helix Barrier | T4-T5 added |
| SIEM | Syslog Server | SIEM Platform | SOAR System | AI Analytics | Predictive SIEM | Helix Insight | ✅ Complete |
| Endpoint | EDR | XDR | MXDR | AI Protection | **Quantum EDR** | Helix Shield | T5 added |
| IDS | IDS Sensor | IPS Active | ML/IPS | AI Detection | Quantum IDS | Helix Watcher | ✅ Complete |
| Network | Router | ISR | Cloud ISR | Encrypted Router | **Quantum Router** | Helix Mesh | T5 added |
| Encryption | AES-256 | E2E Encryption | Quantum Safe | **Homomorphic** | **Temporal Encryption** | Helix Cipher | T4-T5 added |

### Naming Conventions

- **T1-T3:** Real-world security terminology
- **T4:** AI/Advanced prefix
- **T5:** Quantum/Predictive prefix
- **T6:** "Helix [Noun]" format for consistency

### Future Considerations

1. T7-T10 names should follow "Transcendence" theme
2. T11-T15 names should follow "Dimensional" theme
3. Consider unique icons for each tier
4. Consider visual evolution of app cards as tiers increase

---

## 12. Version History

| Date | Version | Changes |
|------|---------|---------|
| 2025-02-04 | 1.0 | Initial creation with all 6 categories, intel/risk bonuses for all, tier gates, progression chains, and formulas |

---

*For campaign balance and progression, see [GAMEPLAY.md](./GAMEPLAY_20250204.md)*
*For unit statistics, see [UNITS.md](./UNITS_20250204.md)*
